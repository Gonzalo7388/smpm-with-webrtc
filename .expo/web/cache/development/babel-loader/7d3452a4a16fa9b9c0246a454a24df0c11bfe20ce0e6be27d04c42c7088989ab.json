{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport { DEFAULT_AUDIO_CAPABILITIES, receiverCapabilities } from \"./RTCRtpCapabilities\";\nimport RTCRtpReceiveParameters from \"./RTCRtpReceiveParameters\";\nvar WebRTCModule = NativeModules.WebRTCModule;\nvar RTCRtpReceiver = function () {\n  function RTCRtpReceiver(info) {\n    _classCallCheck(this, RTCRtpReceiver);\n    _defineProperty(this, \"_id\", void 0);\n    _defineProperty(this, \"_peerConnectionId\", void 0);\n    _defineProperty(this, \"_track\", null);\n    _defineProperty(this, \"_rtpParameters\", void 0);\n    this._id = info.id;\n    this._peerConnectionId = info.peerConnectionId;\n    this._rtpParameters = new RTCRtpReceiveParameters(info.rtpParameters);\n    if (info.track) {\n      this._track = info.track;\n    }\n  }\n  return _createClass(RTCRtpReceiver, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return WebRTCModule.receiverGetStats(this._peerConnectionId, this._id).then(function (data) {\n        return (new Map(JSON.parse(data))\n        );\n      });\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      return this._rtpParameters;\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this._id;\n    }\n  }, {\n    key: \"track\",\n    get: function get() {\n      return this._track;\n    }\n  }], [{\n    key: \"getCapabilities\",\n    value: function getCapabilities(kind) {\n      if (kind === 'audio') {\n        return DEFAULT_AUDIO_CAPABILITIES;\n      }\n      if (!receiverCapabilities) {\n        throw new Error('Receiver Capabilities is null');\n      }\n      return receiverCapabilities;\n    }\n  }]);\n}();\nexport { RTCRtpReceiver as default };","map":{"version":3,"names":["DEFAULT_AUDIO_CAPABILITIES","receiverCapabilities","RTCRtpReceiveParameters","WebRTCModule","NativeModules","RTCRtpReceiver","info","_classCallCheck","_defineProperty","_id","id","_peerConnectionId","peerConnectionId","_rtpParameters","rtpParameters","track","_track","_createClass","key","value","getStats","receiverGetStats","then","data","Map","JSON","parse","getParameters","get","getCapabilities","kind","Error","default"],"sources":["/workspaces/smpm-with-webrtc/node_modules/react-native-webrtc/lib/module/RTCRtpReceiver.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\n\nimport MediaStreamTrack from './MediaStreamTrack';\nimport RTCRtpCapabilities, { DEFAULT_AUDIO_CAPABILITIES, receiverCapabilities } from './RTCRtpCapabilities';\nimport { RTCRtpParametersInit } from './RTCRtpParameters';\nimport RTCRtpReceiveParameters from './RTCRtpReceiveParameters';\n\nconst { WebRTCModule } = NativeModules;\n\nexport default class RTCRtpReceiver {\n    _id: string;\n    _peerConnectionId: number;\n    _track: MediaStreamTrack | null = null;\n    _rtpParameters: RTCRtpReceiveParameters;\n\n    constructor(info: {\n        peerConnectionId: number,\n        id: string,\n        track?: MediaStreamTrack,\n        rtpParameters: RTCRtpParametersInit\n    }) {\n        this._id = info.id;\n        this._peerConnectionId = info.peerConnectionId;\n        this._rtpParameters = new RTCRtpReceiveParameters(info.rtpParameters);\n\n        if (info.track) {\n            this._track = info.track;\n        }\n    }\n\n    static getCapabilities(kind: 'audio' | 'video'): RTCRtpCapabilities {\n        if (kind === 'audio') {\n            return DEFAULT_AUDIO_CAPABILITIES;\n        }\n\n        if (!receiverCapabilities) {\n            throw new Error('Receiver Capabilities is null');\n        }\n\n        return receiverCapabilities;\n    }\n\n    getStats() {\n        return WebRTCModule.receiverGetStats(this._peerConnectionId, this._id).then(data =>\n            /* On both Android and iOS it is faster to construct a single\n            JSON string representing the Map of StatsReports and have it\n            pass through the React Native bridge rather than the Map of\n            StatsReports. While the implementations do try to be faster in\n            general, the stress is on being faster to pass through the React\n            Native bridge which is a bottleneck that tends to be visible in\n            the UI when there is congestion involving UI-related passing.\n            */\n            new Map(JSON.parse(data))\n        );\n    }\n\n    getParameters(): RTCRtpReceiveParameters {\n        return this._rtpParameters;\n    }\n\n    get id() {\n        return this._id;\n    }\n\n    get track() {\n        return this._track;\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AAGA,SAA6BA,0BAA7B,EAAyDC,oBAAzD;AAEA,OAAOC,uBAAP;AAEA,IAAQC,YAAA,GAAiBC,aAAzB,CAAQD,YAAA;AAAR,IAEqBE,cAAN;EAMX,SAAAA,eAAYC,IAAD,EAKR;IAAAC,eAAA,OAAAF,cAAA;IAAAG,eAAA;IAAAA,eAAA;IAAAA,eAAA,iBAR+B,IAQ/B;IAAAA,eAAA;IACC,KAAKC,GAAL,GAAWH,IAAI,CAACI,EAAhB;IACA,KAAKC,iBAAL,GAAyBL,IAAI,CAACM,gBAA9B;IACA,KAAKC,cAAL,GAAsB,IAAIX,uBAAJ,CAA4BI,IAAI,CAACQ,aAAjC,CAAtB;IAEA,IAAIR,IAAI,CAACS,KAAT,EAAgB;MACZ,KAAKC,MAAL,GAAcV,IAAI,CAACS,KAAnB;IACH;EACJ;EAAA,OAAAE,YAAA,CAAAZ,cAAA;IAAAa,GAAA;IAAAC,KAAA,EAcD,SAAAC,QAAQA,CAAA,EAAG;MACP,OAAOjB,YAAY,CAACkB,gBAAb,CAA8B,KAAKV,iBAAnC,EAAsD,KAAKF,GAA3D,EAAgEa,IAAhE,CAAqE,UAAAC,IAAI;QAAA,QAS5E,IAAIC,GAAJ,CAAQC,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAR;QATG;MAAA,EAAP;IAWH;EAAA;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAQ,aAAaA,CAAA,EAA4B;MACrC,OAAO,KAAKd,cAAZ;IACH;EAAA;IAAAK,GAAA;IAAAU,GAAA,EAEK,SAAAA,IAAA,EAAG;MACL,OAAO,KAAKnB,GAAZ;IACH;EAAA;IAAAS,GAAA;IAAAU,GAAA,EAEQ,SAAAA,IAAA,EAAG;MACR,OAAO,KAAKZ,MAAZ;IACH;EAAA;IAAAE,GAAA;IAAAC,KAAA,EApCqB,SAAfU,eAAeA,CAACC,IAAD,EAA8C;MAChE,IAAIA,IAAI,KAAK,OAAb,EAAsB;QAClB,OAAO9B,0BAAP;MACH;MAED,IAAI,CAACC,oBAAL,EAA2B;QACvB,MAAM,IAAI8B,KAAJ,CAAU,+BAAV,CAAN;MACH;MAED,OAAO9B,oBAAP;IACH;EAAA;AAAA;AAAA,SA/BgBI,cAAN,IAAA2B,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}